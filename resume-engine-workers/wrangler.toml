name = "resume-engine"
main = "src/index.ts"
compatibility_date = "2024-12-05"
compatibility_flags = ["nodejs_compat"]

# KV Namespace for PDF caching
[[kv_namespaces]]
binding = "DOCUMENT_CACHE"
id = "3f436a00ff7d48ccb5a4423ea116831d"
preview_id = "91afb742feb049d5ab45124e6f053788"

# R2 Bucket for Typst WASM + fonts
[[r2_buckets]]
binding = "TYPST_ASSETS"
bucket_name = "typst-assets"
preview_bucket_name = "typst-assets-preview"

[vars]
ENVIRONMENT = "production"
CACHE_TTL_SECONDS = "86400"
MAX_PDF_SIZE_BYTES = "10485760"

# Dev overrides
[env.dev]
name = "resume-engine-dev"

[env.dev.vars]
ENVIRONMENT = "development"
